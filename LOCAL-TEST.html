<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>LOCAL TEST - Using Local Dist Files</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
      background: #f0f0f0;
    }
    h1 {
      color: #333;
    }
    button {
      padding: 20px 40px;
      font-size: 20px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 20px 0;
    }
    button:hover {
      background: #333;
    }
    .status {
      padding: 15px;
      margin: 20px 0;
      border-radius: 5px;
      font-family: monospace;
    }
    .success { background: #d4edda; color: #155724; }
    .error { background: #f8d7da; color: #721c24; }
    .info { background: #d1ecf1; color: #0c5460; }
  </style>
</head>
<body>
  <h1>üß™ LOCAL TEST - Using Your Built Widget</h1>
  <p>This test uses the widget files from your <code>/dist</code> folder.</p>
  
  <div id="status" class="status info">‚è≥ Waiting for widget to load...</div>
  
  <button onclick="openWidget()">OPEN WIDGET</button>
  
  <button onclick="checkStatus()">Check Status</button>
  
  <div id="output" style="margin-top: 20px; font-family: monospace; white-space: pre-wrap; background: #fff; padding: 20px; border-radius: 5px;"></div>
  
  <script>
    function log(msg) {
      const output = document.getElementById('output');
      output.textContent += msg + '\n';
      console.log(msg);
    }
    
    function checkStatus() {
      log('=== CHECKING STATUS ===');
      log('typeof window.FindYourWordWidget: ' + typeof window.FindYourWordWidget);
      
      if (window.FindYourWordWidget) {
        log('‚úÖ Widget exists!');
        log('Methods available: ' + Object.keys(window.FindYourWordWidget).join(', '));
        log('open is function: ' + (typeof window.FindYourWordWidget.open === 'function'));
        log('close is function: ' + (typeof window.FindYourWordWidget.close === 'function'));
        log('isOpen is function: ' + (typeof window.FindYourWordWidget.isOpen === 'function'));
        document.getElementById('status').className = 'status success';
        document.getElementById('status').textContent = '‚úÖ Widget loaded successfully!';
      } else {
        log('‚ùå Widget does not exist on window');
        document.getElementById('status').className = 'status error';
        document.getElementById('status').textContent = '‚ùå Widget failed to load';
      }
    }
    
    function openWidget() {
      if (window.FindYourWordWidget) {
        log('Calling window.FindYourWordWidget.open()...');
        try {
          window.FindYourWordWidget.open();
          log('‚úÖ Widget opened!');
        } catch(e) {
          log('‚ùå ERROR: ' + e.message);
          log('Stack: ' + e.stack);
        }
      } else {
        log('‚ùå Widget not available');
        alert('Widget not loaded yet!');
      }
    }
    
    // Auto-check after load
    window.addEventListener('load', () => {
      log('Page loaded at: ' + new Date().toLocaleTimeString());
      setTimeout(() => {
        checkStatus();
      }, 1000);
    });
    
    window.onerror = (msg, url, line) => {
      log('ERROR: ' + msg + ' at ' + url + ':' + line);
    };
  </script>
  
  <!-- Load LOCAL widget files -->
  <link rel="stylesheet" href="./dist/style.css">
  <script src="./dist/find-your-word-v2.iife.js"></script>
  
</body>
</html>

